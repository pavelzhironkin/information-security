---
## Front matter
lang: ru-RU
title: Отчет по лабораторной работе №5
author: |
	 Жиронкин Павел владимирович НПИбд-01-18\inst{1}

institute: |
	\inst{1}Российский Университет Дружбы Народов

date: Информационная Безопасность--2021, 10 ноября, 2021, Москва, Россия

## Formatting
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true

---

# Цели и задачи работы

## Цель лабораторной работы

Изучить механизмы изменения идентификаторов, применение SetUID- и Sticky-битов. Получить практические навыки работы в консоли с дополнительными атрибутами. Рассмотреть работу механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов. 

## Задание к лабораторной работе

Лабораторная работа подразумевает выполнение последовательно необходимых действий, чтобы изучить механизмы изменения идентификаторов, применение SetUID- и Sticky-битов. Получить практические навыки работы в консоли с дополнительными атрибутами.

# Процесс выполнения лабораторной работы

## Процесс выполнения

1. Вошел в систему от имени пользователя guest,  создал программу simpleid.c

2. Скомплировал программу, выполнил ее. Выполнил системную программу id. И сравнил полученный результат с данными предыдущего пункта задания. (рис. -@fig:001)

![Компиляция, выполнение программы](image/01.png){ #fig:001 width=65% height=65% }

## Процесс выполнения

3. Усложнил программу, добавив вывод действительных идентификаторов.

4. Скомпилировал и запустил simpleid2.c. (рис. -@fig:002). 

![Компиляция, выполнение программы](image/02.png){ #fig:002 width=70% height=70% }

## Процесс выполнения

5. От имени суперпользователя выполнил команды: chown root:guest /home/guest/simpleid2; chmod u+s /home/guest/simpleid2.  

6. Выполнил проверку правильности установки новых атрибутов и смены владельца файла simpleid2: ls -l simpleid2. Запустила simpleid2 и id.

7. Проделал тоже самое относительно SetGID-бита

## Процесс выполнения

8. Создал программу readfile.c и откомпилировал ее.

9. Сменил владельца у файла readfile.c и изменил права так, чтобы только суперпользователь (root) мог прочитать его, a guest не мог. Проверил это.  (рис. -@fig:003). 

![Проверка](image/03.png){ #fig:003 width=70% height=70% }

## Процесс выполнения

10. Сменил у программы readfile владельца и установил SetU’D-бит.

11. Проверил, может ли программа readfile прочитать файл readfile.c (может), проверил, может ли программа readfile прочитать файл /etc/shadow.

## Процесс выполнения

12. Выяснил, установлен ли атрибут Sticky на директории /tmp. От имени пользователя guest создал файл file01.txt в директории /tmp со словом test. Просмотрел атрибуты у только что созданного файла и разрешил чтение и запись для категории пользователей «все остальные».

13. От пользователя guest2 (не являющегося владельцем) попробовал прочитать файл /tmp/file01.txt, попробовал дозаписать в файл /tmp/file01.txt слово test2. Проверил содержимое файла. Также попробовал записать в файл /tmp/file01.txt слово test3, стерев при этом всю имеющуюся в файле информацию. От пользователя guest2 попробовал удалить файл /tmp/file01.txt . (рис. -@fig:004).

## Процесс выполнения

![Выполение и проверка от пользователя guest2](image/04.png){ #fig:004 width=80% height=80% }

## Процесс выполнения

14. От суперпользователя выполнил команду, снимающую атрибут t (Sticky-бит) с директории /tmp.

15.  От пользователя guest2 проверил, что атрибута t у директории /tmp нет. Повторил предыдущие шаги. Нам удалось удалить файл от имени пользователя, не являющегося его владельцем, также получилось выполнить дозапись в файл и замену текста в файле.

16. От суперпользователя вернул атрибут t на директорию /tmp. 

# Выводы по проделанной работе

## Вывод

На основе проделанной работы изучил механизмы изменения идентификаторов, применение SetUID- и Sticky-битов. Получил практические навыки работы в консоли с дополнительными атрибутами. Рассмотрел работу механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов.
